[2022-05-04 20:28:23.078 +05:30 INF] Entity Framework Core 6.0.4 initialized 'AspireOverflowContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
[2022-05-04 20:30:57.614 +05:30 INF] Entity Framework Core 6.0.4 initialized 'AspireOverflowContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
[2022-05-04 20:30:58.476 +05:30 INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2022-05-04 20:30:58.508 +05:30 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-05-04 20:30:58.511 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2022-05-04 20:30:58.512 +05:30 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-05-04 20:30:58.533 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-05-04 20:30:58.556 +05:30 INF] Applying migration '20220504145823_dbupdate'.
[2022-05-04 20:30:58.682 +05:30 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ArticleStatus] (
    [ArticleStatusID] int NOT NULL IDENTITY,
    [Status] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ArticleStatus] PRIMARY KEY ([ArticleStatusID])
);
[2022-05-04 20:30:58.697 +05:30 ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DepartmentId] int NOT NULL IDENTITY,
    [DepartmentName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DepartmentId])
);
[2022-05-04 20:31:22.537 +05:30 INF] Entity Framework Core 6.0.4 initialized 'AspireOverflowContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
[2022-05-04 20:31:23.404 +05:30 INF] Executed DbCommand (462ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AspireOverflowTestDB];
[2022-05-04 20:31:23.892 +05:30 INF] Executed DbCommand (482ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AspireOverflowTestDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2022-05-04 20:31:23.923 +05:30 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2022-05-04 20:31:24.038 +05:30 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2022-05-04 20:31:24.040 +05:30 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2022-05-04 20:31:24.062 +05:30 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2022-05-04 20:31:24.068 +05:30 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2022-05-04 20:31:24.090 +05:30 INF] Applying migration '20220504145823_dbupdate'.
[2022-05-04 20:31:24.179 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ArticleStatus] (
    [ArticleStatusID] int NOT NULL IDENTITY,
    [Status] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_ArticleStatus] PRIMARY KEY ([ArticleStatusID])
);
[2022-05-04 20:31:24.181 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DepartmentId] int NOT NULL IDENTITY,
    [DepartmentName] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DepartmentId])
);
[2022-05-04 20:31:24.184 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Gender] (
    [GenderId] int NOT NULL,
    [Name] nvarchar(15) NOT NULL,
    CONSTRAINT [PK_Gender] PRIMARY KEY ([GenderId])
);
[2022-05-04 20:31:24.193 +05:30 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [UserRoleId] int NOT NULL,
    [RoleName] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserRoleId])
);
[2022-05-04 20:31:24.195 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VerifyStatus] (
    [VerifyStatusID] int NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_VerifyStatus] PRIMARY KEY ([VerifyStatusID])
);
[2022-05-04 20:31:24.198 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Designations] (
    [DesignationId] int NOT NULL IDENTITY,
    [DesignationName] nvarchar(50) NOT NULL,
    [DepartmentId] int NOT NULL,
    CONSTRAINT [PK_Designations] PRIMARY KEY ([DesignationId]),
    CONSTRAINT [FK_Designations_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([DepartmentId])
);
[2022-05-04 20:31:24.203 +05:30 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] int NOT NULL IDENTITY,
    [FullName] nvarchar(50) NOT NULL,
    [GenderId] int NOT NULL,
    [AceNumber] nvarchar(30) NOT NULL,
    [EmailAddress] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [DateOfBirth] datetime2 NOT NULL,
    [VerifyStatusID] int NOT NULL,
    [IsReviewer] bit NOT NULL,
    [UserRoleId] int NOT NULL,
    [DesignationId] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedOn] datetime2 NULL,
    [UpdatedBy] int NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_User_Department] FOREIGN KEY ([DesignationId]) REFERENCES [Designations] ([DesignationId]),
    CONSTRAINT [FK_User_Gender] FOREIGN KEY ([GenderId]) REFERENCES [Gender] ([GenderId]),
    CONSTRAINT [FK_User_UserRole] FOREIGN KEY ([UserRoleId]) REFERENCES [UserRoles] ([UserRoleId]),
    CONSTRAINT [FK_User_VerifyStatus] FOREIGN KEY ([VerifyStatusID]) REFERENCES [VerifyStatus] ([VerifyStatusID])
);
[2022-05-04 20:31:24.209 +05:30 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Articles] (
    [ArtileId] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [Image] varbinary(max) NOT NULL,
    [ArticleStatusID] int NOT NULL,
    [ReviewerId] int NULL,
    [Datetime] datetime2 NOT NULL,
    [CreatedBy] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedBy] int NULL,
    [UpdatedOn] datetime2 NULL,
    CONSTRAINT [PK_Articles] PRIMARY KEY ([ArtileId]),
    CONSTRAINT [FK_Articles_ArticleStatus_ArticleStatusID] FOREIGN KEY ([ArticleStatusID]) REFERENCES [ArticleStatus] ([ArticleStatusID]),
    CONSTRAINT [FK_Articles_Users_CreatedBy] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([UserId])
);
[2022-05-04 20:31:24.213 +05:30 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Queries] (
    [QueryId] int NOT NULL IDENTITY,
    [Title] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [code] nvarchar(max) NOT NULL,
    [IsSolved] bit NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedBy] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedBy] int NULL,
    [UpdatedOn] datetime2 NULL,
    CONSTRAINT [PK_Queries] PRIMARY KEY ([QueryId]),
    CONSTRAINT [FK_Query_User] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([UserId])
);
[2022-05-04 20:31:24.217 +05:30 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ArticleComments] (
    [ArticleCommentId] int NOT NULL IDENTITY,
    [Comment] nvarchar(max) NOT NULL,
    [Datetime] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    [CreatedBy] int NOT NULL,
    [ArticleId] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedBy] int NULL,
    [UpdatedOn] datetime2 NULL,
    CONSTRAINT [PK_ArticleComments] PRIMARY KEY ([ArticleCommentId]),
    CONSTRAINT [FK_ArticleComments_Articles_ArticleId] FOREIGN KEY ([ArticleId]) REFERENCES [Articles] ([ArtileId]),
    CONSTRAINT [FK_ArticleComments_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId])
);
[2022-05-04 20:31:24.223 +05:30 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ArticleLikes] (
    [LikeId] int NOT NULL IDENTITY,
    [ArticleId] int NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_ArticleLikes] PRIMARY KEY ([LikeId]),
    CONSTRAINT [FK_ArticleLikes_Articles_ArticleId] FOREIGN KEY ([ArticleId]) REFERENCES [Articles] ([ArtileId]),
    CONSTRAINT [FK_ArticleLikes_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId])
);
[2022-05-04 20:31:24.227 +05:30 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [QueryComments] (
    [QueryCommentId] int NOT NULL IDENTITY,
    [Comment] nvarchar(max) NOT NULL,
    [Datetime] datetime2 NOT NULL,
    [QueryId] int NOT NULL,
    [CreatedBy] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedBy] int NULL,
    [UpdatedOn] datetime2 NULL,
    CONSTRAINT [PK_QueryComments] PRIMARY KEY ([QueryCommentId]),
    CONSTRAINT [FK_QueryComment_Query] FOREIGN KEY ([QueryId]) REFERENCES [Queries] ([QueryId]),
    CONSTRAINT [FK_QueryComment_User] FOREIGN KEY ([CreatedBy]) REFERENCES [Users] ([UserId])
);
[2022-05-04 20:31:24.232 +05:30 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Spams] (
    [SpamId] int NOT NULL IDENTITY,
    [QueryId] int NOT NULL,
    [UserId] int NOT NULL,
    [VerifyStatusID] int NOT NULL,
    CONSTRAINT [PK_Spams] PRIMARY KEY ([SpamId]),
    CONSTRAINT [FK_Spams_Queries_QueryId] FOREIGN KEY ([QueryId]) REFERENCES [Queries] ([QueryId]),
    CONSTRAINT [FK_Spams_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]),
    CONSTRAINT [FK_Spams_VerifyStatus_VerifyStatusID] FOREIGN KEY ([VerifyStatusID]) REFERENCES [VerifyStatus] ([VerifyStatusID])
);
[2022-05-04 20:31:24.270 +05:30 INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'ArticleStatusID', N'Status') AND [object_id] = OBJECT_ID(N'[ArticleStatus]'))
    SET IDENTITY_INSERT [ArticleStatus] ON;
INSERT INTO [ArticleStatus] ([ArticleStatusID], [Status])
VALUES (1, N'InDraft'),
(2, N'ToBeReviewed'),
(3, N'UnderReview'),
(4, N'Published');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'ArticleStatusID', N'Status') AND [object_id] = OBJECT_ID(N'[ArticleStatus]'))
    SET IDENTITY_INSERT [ArticleStatus] OFF;
[2022-05-04 20:31:24.281 +05:30 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'GenderId', N'Name') AND [object_id] = OBJECT_ID(N'[Gender]'))
    SET IDENTITY_INSERT [Gender] ON;
INSERT INTO [Gender] ([GenderId], [Name])
VALUES (1, N'Male'),
(2, N'Female');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'GenderId', N'Name') AND [object_id] = OBJECT_ID(N'[Gender]'))
    SET IDENTITY_INSERT [Gender] OFF;
[2022-05-04 20:31:24.294 +05:30 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserRoleId', N'RoleName') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] ON;
INSERT INTO [UserRoles] ([UserRoleId], [RoleName])
VALUES (1, N'Admin'),
(2, N'User');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'UserRoleId', N'RoleName') AND [object_id] = OBJECT_ID(N'[UserRoles]'))
    SET IDENTITY_INSERT [UserRoles] OFF;
[2022-05-04 20:31:24.306 +05:30 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'VerifyStatusID', N'Name') AND [object_id] = OBJECT_ID(N'[VerifyStatus]'))
    SET IDENTITY_INSERT [VerifyStatus] ON;
INSERT INTO [VerifyStatus] ([VerifyStatusID], [Name])
VALUES (1, N'Approved'),
(2, N'Rejected'),
(3, N'NotVerified');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'VerifyStatusID', N'Name') AND [object_id] = OBJECT_ID(N'[VerifyStatus]'))
    SET IDENTITY_INSERT [VerifyStatus] OFF;
[2022-05-04 20:31:24.307 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ArticleComments_ArticleId] ON [ArticleComments] ([ArticleId]);
[2022-05-04 20:31:24.309 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ArticleComments_UserId] ON [ArticleComments] ([UserId]);
[2022-05-04 20:31:24.311 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ArticleLikes_ArticleId] ON [ArticleLikes] ([ArticleId]);
[2022-05-04 20:31:24.312 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_ArticleLikes_UserId] ON [ArticleLikes] ([UserId]);
[2022-05-04 20:31:24.314 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Articles_ArticleStatusID] ON [Articles] ([ArticleStatusID]);
[2022-05-04 20:31:24.315 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Articles_CreatedBy] ON [Articles] ([CreatedBy]);
[2022-05-04 20:31:24.317 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Designations_DepartmentId] ON [Designations] ([DepartmentId]);
[2022-05-04 20:31:24.319 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Queries_CreatedBy] ON [Queries] ([CreatedBy]);
[2022-05-04 20:31:24.320 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_QueryComments_CreatedBy] ON [QueryComments] ([CreatedBy]);
[2022-05-04 20:31:24.321 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_QueryComments_QueryId] ON [QueryComments] ([QueryId]);
[2022-05-04 20:31:24.322 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Spams_QueryId] ON [Spams] ([QueryId]);
[2022-05-04 20:31:24.324 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Spams_UserId] ON [Spams] ([UserId]);
[2022-05-04 20:31:24.326 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Spams_VerifyStatusID] ON [Spams] ([VerifyStatusID]);
[2022-05-04 20:31:24.328 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_DesignationId] ON [Users] ([DesignationId]);
[2022-05-04 20:31:24.329 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_GenderId] ON [Users] ([GenderId]);
[2022-05-04 20:31:24.330 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_UserRoleId] ON [Users] ([UserRoleId]);
[2022-05-04 20:31:24.331 +05:30 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_VerifyStatusID] ON [Users] ([VerifyStatusID]);
[2022-05-04 20:31:24.333 +05:30 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220504145823_dbupdate', N'6.0.4');
